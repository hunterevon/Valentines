<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>YAY!</title>
    <style>
      :root {
        --bg: #fff0f6;
        --accent: #ff6b81;
        --text: #333;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family:
          system-ui,
          -apple-system,
          "Segoe UI",
          Roboto,
          "Helvetica Neue",
          Arial;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      header {
        position: relative;
        z-index: 2;
        text-align: center;
      }
      header h1 {
        font-size: 3.5rem;
        color: var(--accent);
        margin: 0;
      }
      main {
        position: relative;
        z-index: 2;
        text-align: center;
        margin-top: 1rem;
      }
      main p {
        font-size: 1.25rem;
        margin: 0;
      }

      /* canvas overlay for confetti */
      #confetti-canvas {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }
    </style>
  </head>
  <body>
    <canvas id="confetti-canvas" aria-hidden="true"></canvas>
    <header>
      <h1>YAY</h1>
    </header>
    <main>
      <p>
        We have dinner reservations but I'm not going to tell you where! I love
        you!
      </p>
    </main>

    <script>
      // Simple confetti implementation (no external libs)
      (function () {
        const canvas = document.getElementById("confetti-canvas");
        const ctx = canvas.getContext("2d");
        let W = (canvas.width = window.innerWidth);
        let H = (canvas.height = window.innerHeight);

        const colors = ["#ff6b81", "#ffd166", "#06d6a0", "#118ab2", "#b5179e"];

        function rand(min, max) {
          return Math.random() * (max - min) + min;
        }

        function Particle() {
          this.x = rand(0, W);
          this.y = rand(-H, 0);
          this.w = rand(6, 14);
          this.h = rand(8, 18);
          this.color = colors[(Math.random() * colors.length) | 0];
          this.rotation = rand(0, 2 * Math.PI);
          this.speed = rand(1, 4);
          this.angular = rand(-0.1, 0.1);
          this.tilt = rand(-0.2, 0.2);
        }

        Particle.prototype.update = function () {
          this.y += this.speed;
          this.x += Math.sin(this.tilt) * 2;
          this.rotation += this.angular;
          if (this.y > H + 20) {
            this.y = rand(-40, -10);
            this.x = rand(0, W);
          }
        };

        Particle.prototype.draw = function (ctx) {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate(this.rotation);
          ctx.fillStyle = this.color;
          ctx.fillRect(-this.w / 2, -this.h / 2, this.w, this.h);
          ctx.restore();
        };

        let particles = [];
        function init(count) {
          particles = [];
          for (let i = 0; i < count; i++) particles.push(new Particle());
        }

        function resize() {
          W = canvas.width = window.innerWidth;
          H = canvas.height = window.innerHeight;
        }

        window.addEventListener("resize", resize);

        let stopped = false;
        function animate() {
          if (stopped) return;
          ctx.clearRect(0, 0, W, H);
          for (const p of particles) {
            p.update();
            p.draw(ctx);
          }
          requestAnimationFrame(animate);
        }

        // start confetti burst: more particles initially, then gradual stop
        function startConfetti() {
          init(120);
          animate();
          // after 6s, reduce particles then stop after 3s
          setTimeout(() => {
            init(40);
            setTimeout(() => {
              stopped = true;
              ctx.clearRect(0, 0, W, H);
            }, 3000);
          }, 6000);
        }

        // kick it off once DOM is ready
        document.addEventListener("DOMContentLoaded", startConfetti);
      })();
    </script>
  </body>
</html>
